<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìö</text></svg>">
    <script data-goatcounter="https://jrenedo.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>

    <title>Repaso Final AD</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #f0fdf4; }
        .card { transition: all 0.3s ease; border-left-width: 5px; }
        .card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        .truco { background-color: #fffbeb; border-left: 4px solid #f59e0b; padding: 0.5rem; margin-top: 0.5rem; font-size: 0.9em; color: #92400e; }
        .leak-orm { background-color: #fef2f2; border-left: 4px solid #ef4444; padding: 0.5rem; margin-top: 0.5rem; font-size: 0.9em; color: #991b1b; }
        .code-tag { font-family: monospace; background-color: #e5e7eb; padding: 2px 4px; border-radius: 4px; color: #c026d3; font-weight: bold; }
    </style>
</head>
<body class="p-4 md:p-8 max-w-7xl mx-auto">

    <header class="text-center mb-10">
        <h1 class="text-4xl font-bold text-green-700 mb-2">üìö Repaso de Conceptos AD</h1>
        <p class="text-gray-600 font-medium">Versi√≥n MASTER: Trucos, Trampas y Leaks</p>
        <div class="mt-3 space-x-2">
            <span class="bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-0.5 rounded">PDF Completo</span>
            <span class="bg-yellow-100 text-yellow-800 text-xs font-semibold px-2.5 py-0.5 rounded">Incluye Trucos</span>
            <span class="bg-red-100 text-red-800 text-xs font-semibold px-2.5 py-0.5 rounded">Incluye Leaks ORM</span>
        </div>
    </header>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">

        <div class="bg-white p-5 rounded-lg shadow border-blue-500 card">
            <h2 class="text-xl font-bold text-blue-600 mb-3">üìÇ 1. Ficheros y Streams</h2>
            <ul class="space-y-2 text-sm text-gray-700">
                <li><strong>Excepciones:</strong> <code class="code-tag">FileNotFoundException</code> hereda de <code class="code-tag">IOException</code>.</li>
                <li><strong>Binario vs Texto:</strong>
                    <ul class="list-disc ml-5 mt-1">
                        <li>Binario: <code class="code-tag">Stream</code> (FileInputStream).</li>
                        <li>Texto: <code class="code-tag">Reader/Writer</code> (FileReader).</li>
                    </ul>
                    <div class="truco">üí° <strong>Truco:</strong> Si acaba en "Stream" son ceros y unos (fotos). Si es Reader/Writer, es texto legible.</div>
                </li>
                <li><strong>Lectura Eficiente:</strong> <code class="code-tag">BufferedReader</code> usa memoria intermedia (b√∫fer) para no ir al disco por cada letra.</li>
                <li><strong>Acceso Aleatorio:</strong>
                    <ul class="list-disc ml-5 mt-1">
                        <li><code class="code-tag">seek(pos)</code>: Mueve el puntero.</li>
                        <li><code class="code-tag">getFilePointer()</code>: Dice d√≥nde est√°s.</li>
                    </ul>
                </li>
                <li><strong>M√©todos File (Anexo):</strong>
                    <ul class="list-disc ml-5 mt-1">
                        <li><code class="code-tag">isDirectory()</code>: El "polic√≠a" que verifica si es carpeta.</li>
                        <li><code class="code-tag">File.separator</code>: Barra correcta Win/Linux.</li>
                        <li><code class="code-tag">deleteOnExit()</code>: Borra al cerrar app.</li>
                    </ul>
                </li>
                <li><strong>Desventaja Secuencial:</strong> Es como una cinta VHS, debes pasar por todo lo anterior para llegar al final.</li>
            </ul>
        </div>

        <div class="bg-white p-5 rounded-lg shadow border-indigo-500 card">
            <h2 class="text-xl font-bold text-indigo-600 mb-3">üîå 2. JDBC</h2>
            <ul class="space-y-2 text-sm text-gray-700">
                <li><strong>Componentes:</strong>
                    <ul class="list-disc ml-5 mt-1">
                        <li><code class="code-tag">DriverManager</code>: Portero (Carga driver).</li>
                        <li><code class="code-tag">Connection</code>: T√∫nel (¬°Cerrar siempre!).</li>
                        <li><code class="code-tag">ResultSet</code>: Respuesta (Tablas).</li>
                    </ul>
                </li>
                <li><strong>Sentencias:</strong>
                    <ul class="list-disc ml-5 mt-1">
                        <li><code class="code-tag">PreparedStatement</code>: R√°pido y seguro (evita inyecci√≥n con ?).</li>
                        <li><code class="code-tag">CallableStatement</code>: Procedimientos Almacenados.</li>
                    </ul>
                </li>
                <li><strong>Ejecuci√≥n (Regla de Oro):</strong>
                    <ul class="list-disc ml-5 mt-1">
                        <li><strong>SELECT</strong> ‚Üí <code class="code-tag">executeQuery()</code> ("Query"="Pregunta").</li>
                        <li><strong>INSERT/UPDATE</strong> ‚Üí <code class="code-tag">executeUpdate()</code> ("Update"="Cambio").</li>
                    </ul>
                </li>
                <li><strong>Transacciones:</strong>
                    <ul class="list-disc ml-5 mt-1">
                        <li><code class="code-tag">setAutoCommit(false)</code>: Inicia manual.</li>
                        <li><code class="code-tag">commit()</code>: Guardar.</li>
                        <li><code class="code-tag">rollback()</code>: Deshacer.</li>
                    </ul>
                </li>
                <li class="bg-red-50 p-2 rounded border border-red-200">
                    <strong>¬°OJO!</strong> <code class="code-tag">DROP</code> es el comando nuclear (borra estructura y datos). <code class="code-tag">DELETE</code> solo borra filas.
                </li>
            </ul>
        </div>

        <div class="bg-white p-5 rounded-lg shadow border-green-500 card">
            <h2 class="text-xl font-bold text-green-600 mb-3">üå± 3. ORM y Hibernate</h2>
            <ul class="space-y-2 text-sm text-gray-700">
                <li><strong>Problema:</strong> Desfase Objeto-Relacional. <br><strong>Soluci√≥n:</strong> Abstracci√≥n.</li>
                <li><strong>Configuraci√≥n (Truco):</strong>
                    <ul class="list-disc ml-5 mt-1">
                        <li>Maven ‚Üí <code class="code-tag">pom.xml</code>.</li>
                        <li>Hibernate Nativo ‚Üí <code class="code-tag">hibernate.cfg.xml</code>.</li>
                        <li>Componentes/JAR ‚Üí <code class="code-tag">MANIFEST.MF</code>.</li>
                    </ul>
                </li>
                <li><strong>Ciclo de Vida (JPA):</strong>
                    <ul class="list-disc ml-5 mt-1">
                        <li><strong>Transient:</strong> Nuevo, no en BD.</li>
                        <li><strong>Persistent:</strong> En BD y conectado.</li>
                        <li><strong>Detached:</strong> En BD pero desconectado.</li>
                    </ul>
                </li>
                <li><strong>Anotaci√≥n @Transient:</strong> Etiqueta para decirle a la BD "Ignora esto, no lo guardes" (ej: edad calculada).</li>
                <li><strong>Consultas:</strong> <code class="code-tag">HQL/OQL</code> consultan Objetos, no tablas. Variables OQL llevan <code class="code-tag">$</code>.</li>
            </ul>
        </div>

        <div class="bg-white p-5 rounded-lg shadow border-red-500 card border-l-8">
            <h2 class="text-xl font-bold text-red-600 mb-3">üî• 3.5. ORM: El Desfase (PREGUNTAS REBUSCADAS)</h2>
            <p class="text-xs text-gray-500 mb-2">Las 5 opciones t√©cnicas que caen en el examen:</p>
            
            <div class="space-y-2 text-sm">
                <div class="leak-orm">
                    <strong>1. Granularidad:</strong> Problema cuando tienes clases muy finas (ej: Clase 'Direcci√≥n') que la BD quiere aplanar en una sola tabla.
                </div>
                <div class="leak-orm">
                    <strong>2. Herencia (Subtipos):</strong> Java usa `extends` natural. SQL NO tiene herencia. El ORM sufre para simularlo.
                </div>
                <div class="leak-orm">
                    <strong>3. Identidad:</strong> Java usa `==` (memoria) o `equals`. La BD usa Clave Primaria (PK). No es lo mismo.
                </div>
                <div class="leak-orm">
                    <strong>4. Asociaciones:</strong> En Java son referencias (unidireccionales). En BD son Foreign Keys (FK).
                </div>
                <div class="leak-orm">
                    <strong>5. Navegaci√≥n:</strong> En Java haces `.getLista()`. En BD eso implica JOINs costosos.
                </div>
            </div>
        </div>
        <div class="bg-white p-5 rounded-lg shadow border-yellow-500 card">
            <h2 class="text-xl font-bold text-yellow-600 mb-3">üì¶ 4. Tipos y BDOO</h2>
            <ul class="space-y-2 text-sm text-gray-700">
                <li><strong>Regla Mnemot√©cnica CLOB/BLOB:</strong>
                    <ul class="list-disc ml-5 mt-1">
                        <li><strong>C</strong>LOB: <strong>C</strong>aracteres (Texto).</li>
                        <li><strong>B</strong>LOB: <strong>B</strong>inario (Imagen/Audio).</li>
                    </ul>
                    <div class="truco">üö´ <strong>¬°Aviso!</strong> Nunca guardes XML en BLOB (caja negra).</div>
                </li>
                <li><strong>Caracter√≠sticas BDOO:</strong>
                    <ul class="list-disc ml-5 mt-1">
                        <li>Usa <strong>Herencia</strong> para reutilizar.</li>
                        <li><strong>Polimorfismo:</strong> Buscar en tabla "Padre" trae datos de "Hijas".</li>
                        <li>Tipos complejos: <code class="code-tag">CREATE TYPE</code> y <code class="code-tag">ARRAY</code>.</li>
                    </ul>
                </li>
                <li><strong>ANSI SQL 1999:</strong> Modernizaci√≥n que permiti√≥ guardar Colecciones (Arrays) en una celda.</li>
                <li><strong>PL/SQL:</strong> Siempre tienen <code class="code-tag">BEGIN</code> y <code class="code-tag">END</code>.</li>
                <li><strong>BD Embebida (SQLite):</strong> Va incrustada, sin servidor externo.</li>
            </ul>
        </div>

        <div class="bg-white p-5 rounded-lg shadow border-orange-500 card">
            <h2 class="text-xl font-bold text-orange-600 mb-3">üìú 5. XML Nativa</h2>
            <ul class="space-y-2 text-sm text-gray-700">
                <li><strong>Nativa (eXist-db):</strong> Guarda XML sin transformar (mantiene jerarqu√≠a). Colecci√≥n=Carpeta, Recurso=Archivo.</li>
                <li><strong>Lenguajes:</strong>
                    <ul class="list-disc ml-5 mt-1">
                        <li><strong>XSD:</strong> Define estructura v√°lida (Reglas).</li>
                        <li><strong>XPath:</strong> El GPS (Selecciona nodos).</li>
                        <li><strong>XQuery:</strong> Ampl√≠a <strong>XPath</strong> para consultas complejas (FLWOR). Sus variables llevan <code class="code-tag">$</code>.</li>
                        <li><strong>XUpdate:</strong> Extensi√≥n para <strong>modificar</strong> datos.</li>
                    </ul>
                </li>
                <li><strong>DOM vs SAX:</strong>
                    <ul class="list-disc ml-5 mt-1">
                        <li><strong>DOM:</strong> Carga todo el √°rbol en RAM. Problema: Come mucha memoria.</li>
                        <li><strong>SAX:</strong> (Impl√≠cito) Opuesto a DOM, no carga todo.</li>
                    </ul>
                </li>
                <li><strong>√çndices Estructurales:</strong> Aceleran b√∫squedas por rutas (tags espec√≠ficos).</li>
            </ul>
        </div>

        <div class="bg-white p-5 rounded-lg shadow border-purple-500 card">
            <h2 class="text-xl font-bold text-purple-600 mb-3">üß© 6. Componentes y EJB</h2>
            <ul class="space-y-2 text-sm text-gray-700">
                <li><strong>Empaquetado (JAR):</strong> Es un ZIP con las clases compiladas.</li>
                <li class="bg-purple-50 p-2 rounded border border-purple-200">
                    <strong>¬°Diferencia de Ficheros!:</strong>
                    <ul class="list-disc ml-5 mt-1">
                        <li><strong><code class="code-tag">manifest.mf</code>:</strong> (En META-INF). Describe el componente y sus librer√≠as requeridas <strong>dentro del JAR</strong>.</li>
                        <li><strong><code class="code-tag">pom.xml</code>:</strong> Fichero de <strong>Maven</strong> para gestionar dependencias del proyecto.</li>
                    </ul>
                </li>
                
                <li><strong>Conceptos Clave:</strong>
                    <ul class="list-disc ml-5 mt-1">
                        <li><strong>Encapsulaci√≥n:</strong> Ocultar implementaci√≥n (Interfaz p√∫blica).</li>
                        <li><strong>Introspecci√≥n:</strong> Analizarse en tiempo de ejecuci√≥n.</li>
                    </ul>
                </li>
                
                <li><strong>Propiedades Bean:</strong>
                    <ul class="list-disc ml-5 mt-1">
                        <li><strong>Indexada:</strong> Lista/Array.</li>
                        <li><strong>Ligada:</strong> Notifica cambios (PropertyChange).</li>
                        <li><strong>Restringida:</strong> Pide permiso (VetoableChange).</li>
                    </ul>
                </li>
                
                <li><strong>Tipos EJB:</strong>
                    <ul class="list-disc ml-5 mt-1">
                        <li><strong>Stateless:</strong> Sin memoria (R√°pido).</li>
                        <li><strong>Stateful:</strong> Con memoria (Carrito).</li>
                        <li><strong>MDB:</strong> As√≠ncrono (Mensajes).</li>
                        <li><strong>Singleton:</strong> Instancia √∫nica.</li>
                    </ul>
                    <div class="truco">üö® <strong>Trampa:</strong> "Bean de Interfaz" NO existe.</div>
                </li>
            </ul>
        </div>

    </div>

    <div class="mt-8 bg-gray-800 text-white p-6 rounded-lg shadow-lg">
        <h2 class="text-2xl font-bold text-yellow-400 mb-4 text-center">üöÄ Resumen de Emergencia (Fichas R√°pidas)</h2>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center text-sm">
            <div class="bg-gray-700 p-2 rounded">¬øSELECT? ‚Üí <strong>executeQuery</strong></div>
            <div class="bg-gray-700 p-2 rounded">¬øINSERT? ‚Üí <strong>executeUpdate</strong></div>
            <div class="bg-gray-700 p-2 rounded">¬øXML Grande? ‚Üí <strong>Nativo</strong></div>
            <div class="bg-gray-700 p-2 rounded">¬øFoto? ‚Üí <strong>BLOB</strong></div>
            <div class="bg-gray-700 p-2 rounded">¬øDependencias JAR? ‚Üí <strong>MANIFEST.MF</strong></div>
            <div class="bg-gray-700 p-2 rounded">¬øConfig Hibernate? ‚Üí <strong>hibernate.cfg.xml</strong></div>
            <div class="bg-gray-700 p-2 rounded">¬øClave Primaria? ‚Üí <strong>@Id</strong></div>
            <div class="bg-gray-700 p-2 rounded">¬øVariable OQL? ‚Üí <strong>$</strong></div>
        </div>
    </div>

</body>
</html>
