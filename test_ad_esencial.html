<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

      <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìö</text></svg>">
    <script data-goatcounter="https://jrenedo.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
    
    <title>Test AD: Nivel T√©cnico/Denso</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #f1f5f9; color: #334155; }
        .hidden { display: none; }
        .correct { background-color: #d1fae5; border-color: #10b981; color: #065f46; }
        .incorrect { background-color: #fee2e2; border-color: #ef4444; color: #991b1b; }
        /* Estilo para las opciones largas y densas */
        .option-btn { 
            transition: all 0.2s; 
            border: 1px solid #cbd5e1; 
            background-color: white; 
            font-size: 0.95rem; 
            line-height: 1.6; 
            text-align: left;
        }
        .option-btn:hover:not(:disabled) { background-color: #f8fafc; border-color: #94a3b8; }
        .card-enter { animation: slideIn 0.3s ease-out; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .tag { font-size: 0.7rem; text-transform: uppercase; font-weight: bold; padding: 2px 6px; border-radius: 4px; letter-spacing: 0.05em; }
        .tag-hard { background-color: #475569; color: white; }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <header class="bg-slate-800 text-white shadow-md sticky top-0 z-10 border-b border-slate-600">
        <div class="max-w-4xl mx-auto px-4 py-4 flex justify-between items-center">
            <h1 class="text-lg font-bold flex items-center gap-2 text-slate-200">
                <span class="text-xl">‚öñÔ∏è</span> Test T√©cnico AD
            </h1>
            <div class="flex items-center gap-4 text-xs font-mono">
                <div class="bg-slate-900 px-3 py-1 rounded text-green-400 border border-slate-700">OK: <span id="score">0</span></div>
                <div class="bg-slate-900 px-3 py-1 rounded text-red-400 border border-slate-700">ERR: <span id="errors">0</span></div>
                <div class="bg-slate-700 px-3 py-1 rounded text-white border border-slate-500"><span id="progress">1</span>/42</div>
            </div>
        </div>
    </header>

    <main class="flex-grow flex flex-col items-center justify-center p-4">
        <div id="quiz-card" class="bg-white rounded-lg shadow-xl p-6 md:p-8 w-full max-w-3xl border border-slate-200 card-enter">
            <div class="mb-4 flex justify-between">
                <span class="tag tag-hard">Concepto Te√≥rico</span>
            </div>
            
            <h2 id="question-text" class="text-lg md:text-xl font-semibold text-slate-800 mb-6 leading-relaxed border-b pb-4 border-slate-100"></h2>
            
            <div id="options-container" class="space-y-4"></div>

            <div id="feedback" class="hidden mt-8 p-5 rounded bg-slate-50 border-l-4 border-indigo-500">
                <p id="justification" class="text-slate-700 text-sm italic leading-relaxed"></p>
                <button onclick="nextQuestion()" class="mt-4 px-6 py-2 bg-slate-800 hover:bg-slate-700 text-white font-bold rounded shadow transition-colors text-sm uppercase tracking-wide">Siguiente Pregunta</button>
            </div>
        </div>

        <div id="summary" class="hidden bg-white rounded-lg shadow-xl p-8 w-full max-w-md text-center border-t-4 border-slate-800 card-enter">
            <div class="text-5xl mb-4">üèÅ</div>
            <h2 class="text-2xl font-bold text-slate-800 mb-2">Test Finalizado</h2>
            <p class="text-slate-500 mb-6 text-sm">Nivel de Precisi√≥n T√©cnica</p>
            <div class="flex justify-center gap-8 mb-8">
                <div class="text-center"><div class="text-3xl font-bold text-green-600" id="final-score">0</div><div class="text-xs uppercase text-slate-400">Aciertos</div></div>
                <div class="text-center"><div class="text-3xl font-bold text-red-600" id="final-errors">0</div><div class="text-xs uppercase text-slate-400">Fallos</div></div>
            </div>
            <button onclick="location.reload()" class="w-full bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 rounded shadow">Repetir</button>
        </div>
    </main>

    <script>
        // --- BANCO DE PREGUNTAS T√âCNICAS (42 ITEMS) ---
        // Estilo: Enunciado largo, respuestas parecidas, sin escenarios.
        
        const rawQuestions = [
            // --- BLOQUE 1: FICHEROS & STREAMS ---
            {
                q: "En relaci√≥n con la arquitectura de entrada/salida en Java, ¬øcu√°l es la distinci√≥n t√©cnica fundamental entre la clase heredada 'java.io.File' y la interfaz 'java.nio.file.Path' introducida en la especificaci√≥n NIO.2?",
                o: [
                    "La clase File es una representaci√≥n abstracta moderna que permite el acceso no bloqueante, mientras que Path es una clase concreta heredada.",
                    "La interfaz Path es parte de la nueva API NIO.2 y ofrece una mayor versatilidad para manejar sistemas de archivos no predeterminados y enlaces simb√≥licos, superando las limitaciones de File.",
                    "La clase File est√° marcada como 'deprecated' en las versiones actuales del JDK y no debe utilizarse, siendo Path su √∫nico reemplazo v√°lido.",
                    "La interfaz Path se utiliza exclusivamente para la manipulaci√≥n de archivos XML, mientras que File se utiliza para archivos binarios."
                ],
                c: 1,
                j: "Path (NIO.2) mejora a File permitiendo acceso a sistemas de ficheros virtuales, mejor manejo de errores y enlaces simb√≥licos."
            },
            {
                q: "Con respecto a la manipulaci√≥n de archivos de acceso aleatorio mediante la clase 'java.io.RandomAccessFile', ¬øcu√°l es la funci√≥n exacta del m√©todo 'seek(long pos)' en contraposici√≥n a otros m√©todos de posicionamiento?",
                o: [
                    "El m√©todo seek establece el puntero del archivo en una posici√≥n relativa, sumando el valor 'pos' a la posici√≥n actual del puntero.",
                    "El m√©todo seek establece el puntero del archivo en una posici√≥n absoluta medida en bytes desde el comienzo del archivo.",
                    "El m√©todo seek mueve el contenido f√≠sico del archivo hacia la posici√≥n especificada, reescribiendo los bytes anteriores.",
                    "El m√©todo seek busca una cadena de texto espec√≠fica dentro del archivo y devuelve su posici√≥n absoluta."
                ],
                c: 1,
                j: "Seek es absoluto (desde el byte 0). SkipBytes ser√≠a el relativo."
            },
            {
                q: "En el contexto del procesamiento de flujos de datos (Streams), ¬øqu√© diferencia conceptual existe entre las jerarqu√≠as de clases basadas en 'InputStream/OutputStream' frente a las basadas en 'Reader/Writer'?",
                o: [
                    "InputStream/OutputStream est√°n dise√±adas para manejar flujos de caracteres Unicode de 16 bits, mientras que Reader/Writer manejan flujos de bytes puros de 8 bits.",
                    "InputStream/OutputStream est√°n dise√±adas para manejar flujos de bytes crudos (binarios), mientras que Reader/Writer est√°n especializadas en el manejo de caracteres y texto.",
                    "InputStream/OutputStream son clases obsoletas de Java 1.0, mientras que Reader/Writer son sus reemplazos directos en la API NIO.",
                    "No existe diferencia conceptual; son alias para las mismas operaciones de bajo nivel del sistema operativo."
                ],
                c: 1,
                j: "Stream = Bytes (8 bits, Binario). Reader/Writer = Caracteres (16 bits, Texto)."
            },

            // --- BLOQUE 2: XML ---
            {
                q: "Analizando los modelos de an√°lisis sint√°ctico XML (Parsing), ¬øcu√°l es la desventaja cr√≠tica del modelo DOM (Document Object Model) en comparaci√≥n con el modelo SAX (Simple API for XML) al procesar documentos de gran volumen?",
                o: [
                    "El modelo DOM carga la estructura completa del documento en la memoria heap como un √°rbol de objetos, lo que puede provocar excepciones de falta de memoria (OutOfMemoryError) con archivos grandes.",
                    "El modelo DOM es un parser basado exclusivamente en eventos secuenciales, lo que impide la navegaci√≥n hacia atr√°s en el documento y dificulta las modificaciones.",
                    "El modelo DOM no permite la modificaci√≥n de los nodos del documento una vez cargados, siendo una API de solo lectura estricta.",
                    "El modelo DOM requiere obligatoriamente que el documento XML tenga un esquema XSD asociado, mientras que SAX no lo requiere."
                ],
                c: 0,
                j: "La desventaja de DOM es el consumo de RAM al cargar todo el √°rbol. SAX no carga nada, solo lee."
            },
            {
                q: "En la arquitectura de Bases de Datos Nativas XML (como eXist-db), ¬øc√≥mo se define t√©cnicamente el concepto de 'Colecci√≥n' dentro de la jerarqu√≠a de almacenamiento?",
                o: [
                    "Una Colecci√≥n es un archivo individual que contiene m√∫ltiples documentos XML concatenados en una sola estructura ra√≠z.",
                    "Una Colecci√≥n es una estructura l√≥gica equivalente a un directorio del sistema de archivos, que act√∫a como contenedor de recursos (documentos XML o binarios) y subcolecciones.",
                    "Una Colecci√≥n es un conjunto de √≠ndices estructurales generados autom√°ticamente para optimizar las consultas XPath.",
                    "Una Colecci√≥n es un tipo de dato primitivo de XQuery utilizado para almacenar arrays de resultados en memoria."
                ],
                c: 1,
                j: "En BBDD Nativas: Colecci√≥n = Carpeta. Recurso = Archivo."
            },
            {
                q: "Seg√∫n el est√°ndar W3C y el temario oficial, ¬øcu√°l es la relaci√≥n taxon√≥mica y funcional entre el lenguaje XPath y el lenguaje XQuery?",
                o: [
                    "XQuery es un subconjunto limitado de XPath dise√±ado espec√≠ficamente para bases de datos relacionales, eliminando las funciones de navegaci√≥n.",
                    "XPath es una extensi√≥n de XQuery que a√±ade capacidades de manipulaci√≥n de datos (DML) como inserci√≥n y borrado.",
                    "XQuery est√° considerado formalmente como una extensi√≥n (superset) de XPath 2.0, incorporando sus expresiones de ruta y a√±adiendo estructuras de control complejas (FLWOR).",
                    "Son lenguajes completamente independientes sin sintaxis compartida, siendo XPath para XSLT y XQuery para bases de datos."
                ],
                c: 2,
                j: "XQuery > XPath. Todo lo que hace XPath lo hace XQuery, pero XQuery a√±ade bucles y uniones."
            },

            // --- BLOQUE 3: JDBC ---
            {
                q: "Dentro de la interfaz 'java.sql.Statement', ¬øcu√°l es la especificaci√≥n correcta del m√©todo 'executeUpdate' en t√©rminos de su prop√≥sito y valor de retorno?",
                o: [
                    "Se utiliza para ejecutar consultas de selecci√≥n (SELECT) y devuelve un objeto ResultSet que contiene los datos recuperados.",
                    "Se utiliza para ejecutar sentencias de manipulaci√≥n de datos (INSERT, UPDATE, DELETE) y devuelve un valor entero (int) que representa el n√∫mero de filas afectadas.",
                    "Se utiliza para ejecutar sentencias de manipulaci√≥n de datos (INSERT, UPDATE, DELETE) y devuelve un valor booleano (boolean) que indica si la operaci√≥n fue exitosa.",
                    "Se utiliza para ejecutar procedimientos almacenados y devuelve un objeto CallableStatement con los par√°metros de salida."
                ],
                c: 1,
                j: "executeUpdate para cambios (DML). Retorna int (filas). executeQuery para SELECT. Retorna ResultSet."
            },
            {
                q: "Desde el punto de vista de la seguridad y el rendimiento en JDBC, ¬øcu√°l es la justificaci√≥n t√©cnica para priorizar el uso de 'PreparedStatement' sobre 'Statement'?",
                o: [
                    "PreparedStatement permite la precompilaci√≥n de la sentencia SQL en el servidor de base de datos y evita la inyecci√≥n SQL mediante el uso de par√°metros bind (marcadores de posici√≥n).",
                    "PreparedStatement permite la ejecuci√≥n de sentencias DDL (Data Definition Language) que no est√°n soportadas por la interfaz Statement est√°ndar.",
                    "PreparedStatement ejecuta la consulta en un hilo separado de forma as√≠ncrona, mejorando la respuesta de la interfaz de usuario.",
                    "PreparedStatement convierte autom√°ticamente los resultados relacionales en objetos Java, eliminando la necesidad de mapeo manual."
                ],
                c: 0,
                j: "Dos claves: Precompilaci√≥n (Rendimiento) y Par√°metros (Seguridad/Anti-Inyecci√≥n)."
            },
            {
                q: "En la gesti√≥n de transacciones JDBC con 'AutoCommit' desactivado, ¬øqu√© comportamiento define el protocolo en caso de que la conexi√≥n se cierre abruptamente sin invocar expl√≠citamente al m√©todo 'commit()'?",
                o: [
                    "El motor de base de datos ejecuta un 'commit' impl√≠cito para asegurar la consistencia y durabilidad de los datos introducidos hasta el momento.",
                    "El motor de base de datos mantiene los datos en un estado temporal de 'lectura sucia' hasta que se restablece la conexi√≥n.",
                    "El motor de base de datos ejecuta un 'rollback' autom√°tico, deshaciendo todas las operaciones realizadas en la transacci√≥n actual para mantener la atomicidad.",
                    "El comportamiento es indefinido y depende exclusivamente de la configuraci√≥n del sistema operativo del servidor."
                ],
                c: 2,
                j: "Sin commit expl√≠cito, ante un cierre, la BD protege la integridad haciendo Rollback."
            },
            {
                q: "Con respecto a los tipos de datos LOB (Large Object) en JDBC, ¬øcu√°l es la distinci√≥n sem√°ntica entre los tipos CLOB y BLOB?",
                o: [
                    "CLOB se utiliza para almacenar grandes vol√∫menes de datos binarios (im√°genes, audio), mientras que BLOB se utiliza para grandes vol√∫menes de texto.",
                    "CLOB se utiliza para almacenar grandes vol√∫menes de texto basado en caracteres (Character Large Object), mientras que BLOB se utiliza para datos binarios puros (Binary Large Object).",
                    "CLOB es un tipo de dato obsoleto reemplazado por VARCHAR, mientras que BLOB sigue vigente para archivos multimedia.",
                    "Ambos tipos son id√©nticos en su estructura interna, diferenci√°ndose √∫nicamente en el juego de caracteres utilizado para su codificaci√≥n."
                ],
                c: 1,
                j: "C = Character (Texto). B = Binary (Binario)."
            },

            // --- BLOQUE 4: ORM & HIBERNATE (LEAKS INCLUIDOS) ---
            {
                q: "En el contexto del mapeo objeto-relacional (ORM), el problema de la 'Granularidad' se manifiesta debido a una discrepancia estructural. ¬øCu√°l de las siguientes afirmaciones describe con precisi√≥n t√©cnica este fen√≥meno?",
                o: [
                    "Se refiere a la situaci√≥n en la que el modelo de objetos es de grano grueso (pocas clases), obligando a dividir una √∫nica entidad Java en m√∫ltiples tablas SQL.",
                    "Se refiere a la situaci√≥n en la que el modelo de objetos es de grano fino (muchas clases peque√±as), permitiendo que m√∫ltiples clases Java se mapeen a una √∫nica tabla de base de datos.",
                    "Se refiere a la incapacidad de los tipos de datos primitivos de Java para representar la precisi√≥n granular de los tipos num√©ricos de SQL.",
                    "Se refiere a la limitaci√≥n de Hibernate para gestionar relaciones de herencia cuando las clases tienen pocos atributos."
                ],
                c: 1,
                j: "Granularidad = Java tiene m√°s clases (m√°s finas) que tablas tiene la BD."
            },
            {
                q: "El problema de los 'Subtipos' es uno de los componentes del desajuste de impedancia (Impedance Mismatch). ¬øCu√°l es la causa t√©cnica fundamental de este conflicto?",
                o: [
                    "El lenguaje Java no soporta la herencia m√∫ltiple de clases, mientras que el modelo relacional permite que una tabla herede de m√∫ltiples tablas padre.",
                    "El modelo relacional est√°ndar (SQL) carece de un mecanismo nativo de herencia de tablas, obligando al ORM a simular la jerarqu√≠a de clases mediante estrategias de mapeo complejas.",
                    "Los subtipos en Java se resuelven en tiempo de compilaci√≥n, lo que es incompatible con la resoluci√≥n din√°mica de tipos de las bases de datos SQL.",
                    "Las claves for√°neas en SQL no pueden referenciar a tablas que formen parte de una estructura de herencia l√≥gica."
                ],
                c: 1,
                j: "Java tiene 'extends'. SQL no. El ORM tiene que 'simular' esa herencia con tablas."
            },
            {
                q: "En relaci√≥n con el ciclo de vida de los objetos en JPA/Hibernate, ¬øqu√© condici√≥n define t√©cnicamente el estado 'Persistent' (o Managed) de una entidad?",
                o: [
                    "El objeto tiene una representaci√≥n en la base de datos (identificador) y est√° actualmente asociado a una Sesi√≥n (EntityManager) activa, por lo que los cambios se sincronizan autom√°ticamente.",
                    "El objeto ha sido guardado en la base de datos, pero la Sesi√≥n se ha cerrado, por lo que los cambios realizados en memoria no se sincronizar√°n.",
                    "El objeto ha sido instanciado recientemente en memoria mediante el operador 'new' y a√∫n no tiene correspondencia en la base de datos.",
                    "El objeto ha sido marcado para su eliminaci√≥n en la base de datos y ser√° borrado f√≠sicamente al confirmar la transacci√≥n."
                ],
                c: 0,
                j: "Persistent = ID en BD + Session Activa (Vigilancia activa)."
            },
            {
                q: "¬øCu√°l es la diferencia arquitect√≥nica y funcional entre las interfaces 'SessionFactory' y 'Session' en el marco de trabajo Hibernate?",
                o: [
                    "SessionFactory es un objeto ligero que se crea para cada petici√≥n de usuario, mientras que Session es un objeto pesado y √∫nico para toda la aplicaci√≥n.",
                    "SessionFactory es un objeto pesado, hilo-seguro y √∫nico por aplicaci√≥n (Singleton), encargado de crear instancias ligeras y no hilo-seguras de Session para cada unidad de trabajo.",
                    "Session es la interfaz encargada de la configuraci√≥n global y el mapeo de clases, mientras que SessionFactory se utiliza exclusivamente para ejecutar consultas HQL.",
                    "Ambas interfaces son funcionalmente equivalentes y pueden intercambiarse, siendo SessionFactory la implementaci√≥n moderna de la interfaz Session."
                ],
                c: 1,
                j: "Factory = F√°brica (Pesada, Una). Session = Producto/Sesi√≥n (Ligera, Muchas)."
            },
            {
                q: "En el contexto de la gesti√≥n de identidades, ¬øc√≥mo se describe el problema de 'Identidad' dentro del desajuste objeto-relacional?",
                o: [
                    "Java define la identidad de los objetos bas√°ndose en la ubicaci√≥n de memoria (==) o la igualdad l√≥gica (equals), mientras que las bases de datos relacionales utilizan exclusivamente la Clave Primaria (PK).",
                    "Java utiliza identificadores num√©ricos √∫nicos globales (UUID) para todos los objetos, mientras que las bases de datos requieren claves primarias secuenciales.",
                    "Las bases de datos relacionales no permiten la existencia de dos filas con valores id√©nticos, mientras que Java permite m√∫ltiples objetos con los mismos atributos.",
                    "El problema reside en que Java no permite el uso de claves compuestas, obligando a simplificar el modelo de base de datos."
                ],
                c: 0,
                j: "Identidad Java (Memoria) vs Identidad BD (PK). Son mecanismos distintos."
            },

            // --- BLOQUE 5: COMPONENTES & MANIFEST ---
            {
                q: "Con respecto al empaquetado y despliegue de aplicaciones Java, ¬øcu√°l es la funci√≥n espec√≠fica del archivo 'MANIFEST.MF' ubicado dentro del directorio META-INF de un archivo JAR?",
                o: [
                    "Contiene las definiciones de las dependencias de compilaci√≥n del proyecto, permitiendo a herramientas como Maven descargar las librer√≠as necesarias.",
                    "Proporciona metadatos en tiempo de ejecuci√≥n sobre el contenido del archivo, incluyendo la definici√≥n de la clase principal (Main-Class) y la ruta de clases (Class-Path) para librer√≠as externas.",
                    "Almacena las credenciales de seguridad cifradas y los certificados digitales necesarios para la firma del c√≥digo del componente.",
                    "Act√∫a como un descriptor de despliegue para servidores de aplicaciones web, definiendo los servlets y los mapeos de URL."
                ],
                c: 1,
                j: "Es el DNI del JAR para EJECUTAR (Runtime). Define Main-Class y Class-Path."
            },
            {
                q: "En la especificaci√≥n de Enterprise JavaBeans (EJB), ¬øqu√© caracter√≠stica distingue fundamentalmente a un 'Stateless Session Bean' de un 'Stateful Session Bean'?",
                o: [
                    "El Stateless Bean mantiene el estado conversacional del cliente entre m√∫ltiples llamadas a m√©todos, mientras que el Stateful Bean se reinicia en cada llamada.",
                    "El Stateless Bean no mantiene ning√∫n estado conversacional asociado a un cliente espec√≠fico, permitiendo que el contenedor reutilice la instancia para diferentes clientes (pooling).",
                    "El Stateless Bean est√° dise√±ado para representar datos persistentes en la base de datos, mientras que el Stateful Bean contiene la l√≥gica de negocio.",
                    "El Stateless Bean solo puede ser accedido de forma as√≠ncrona mediante colas de mensajes, a diferencia del Stateful Bean que es s√≠ncrono."
                ],
                c: 1,
                j: "Stateless = Sin memoria (Reutilizable/R√°pido). Stateful = Con memoria (Cliente espec√≠fico)."
            },
            {
                q: "¬øQu√© propiedad de un JavaBean se caracteriza por permitir que otros componentes (listeners) registren su inter√©s y sean notificados autom√°ticamente cuando el valor de dicha propiedad cambia?",
                o: [
                    "Propiedad Indexada (Indexed Property), que permite acceder a un array de valores.",
                    "Propiedad Restringida (Constrained Property), que permite a los oyentes vetar el cambio.",
                    "Propiedad Ligada (Bound Property), que dispara eventos PropertyChangeEvent al modificarse.",
                    "Propiedad Simple (Simple Property), que expone m√©todos getter y setter est√°ndar."
                ],
                c: 2,
                j: "Ligada (Bound) = Notifica el cambio. Restringida (Constrained) = Pide permiso (Veto)."
            },

            // --- BLOQUE 6: EXTRAS T√âCNICOS ---
            {
                q: "Al realizar consultas utilizando HQL (Hibernate Query Language), ¬øcu√°l es la diferencia sint√°ctica cr√≠tica respecto a SQL est√°ndar?",
                o: [
                    "HQL utiliza nombres de tablas y columnas f√≠sicas de la base de datos, ignorando el mapeo de objetos.",
                    "HQL es sensible a may√∫sculas para las palabras clave (SELECT, FROM) pero insensible para los nombres de clases.",
                    "HQL opera sobre el modelo de objetos, utilizando nombres de Clases y Atributos Java en lugar de nombres de tablas y columnas SQL.",
                    "HQL requiere obligatoriamente el uso de procedimientos almacenados para realizar cualquier operaci√≥n de selecci√≥n."
                ],
                c: 2,
                j: "HQL consulta OBJETOS. Usas 'Usuario' (Clase), no 'tbl_users' (Tabla)."
            },
            {
                q: "¬øQu√© acci√≥n de limpieza es imperativo realizar sobre un objeto 'java.sql.Connection' tras finalizar su uso en un bloque finally o try-with-resources?",
                o: [
                    "Invocar el m√©todo 'commit()' para asegurar que no queden datos pendientes.",
                    "Invocar el m√©todo 'close()' para liberar los recursos f√≠sicos (sockets, memoria) tanto en el cliente como en el servidor de base de datos.",
                    "Invocar el m√©todo 'flush()' para vaciar el b√∫fer de red.",
                    "Establecer la referencia del objeto a 'null' para que el recolector de basura lo elimine eventualmente."
                ],
                c: 1,
                j: "Si no haces close(), agotas el pool de conexiones y la BD deja de responder."
            },
            {
                q: "En el contexto de JPA, ¬øcu√°l es la finalidad de la anotaci√≥n '@Transient' aplicada sobre un campo de una entidad?",
                o: [
                    "Indica que el campo es la clave primaria de la tabla y debe ser autogenerada.",
                    "Indica que el campo debe ser persistido en una tabla secundaria separada.",
                    "Indica que el campo no es persistente, es decir, no debe ser almacenado ni recuperado de la base de datos por el motor ORM.",
                    "Indica que el campo contiene datos sensibles y debe ser cifrado antes de guardarse."
                ],
                c: 2,
                j: "Transient = Ignorar en BD (Solo existe en memoria RAM)."
            },
            {
                q: "¬øCu√°l es la funci√≥n del mecanismo de 'Dirty Checking' (Comprobaci√≥n de Suciedad) implementado por Hibernate?",
                o: [
                    "Verificar la integridad referencial de las claves for√°neas antes de realizar una inserci√≥n.",
                    "Detectar autom√°ticamente las modificaciones en el estado de los objetos persistentes y sincronizarlos con la base de datos sin necesidad de llamadas expl√≠citas a 'update'.",
                    "Comprobar que los datos introducidos no contengan caracteres ilegales que puedan provocar inyecci√≥n SQL.",
                    "Validar que la memoria cach√© de segundo nivel est√© sincronizada con la base de datos."
                ],
                c: 1,
                j: "Hibernate vigila los objetos. Si cambias algo, √©l hace el UPDATE solo."
            }
        ];

        // --- L√ìGICA DEL TEST ---
        let questions = [], currentQuestionIndex = 0, score = 0, errors = 0, canAnswer = true;

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function startQuiz() {
            questions = shuffleArray([...rawQuestions]); 
            currentQuestionIndex = 0;
            score = 0;
            errors = 0;
            document.getElementById('summary').classList.add('hidden');
            document.getElementById('quiz-card').classList.remove('hidden');
            loadQuestion();
        }

        function loadQuestion() {
            if (currentQuestionIndex >= questions.length) {
                showResults();
                return;
            }
            
            const q = questions[currentQuestionIndex];
            document.getElementById('question-text').textContent = q.q;
            document.getElementById('progress').textContent = currentQuestionIndex + 1;
            
            const optsContainer = document.getElementById('options-container');
            optsContainer.innerHTML = '';
            document.getElementById('feedback').classList.add('hidden');
            canAnswer = true;

            q.o.forEach((opt, index) => {
                const btn = document.createElement('button');
                btn.className = "option-btn w-full p-4 rounded shadow-sm text-slate-600";
                btn.textContent = opt;
                btn.onclick = () => checkAnswer(index, btn);
                optsContainer.appendChild(btn);
            });
        }

        function checkAnswer(selectedIndex, btn) {
            if (!canAnswer) return;
            canAnswer = false;
            const q = questions[currentQuestionIndex];
            const opts = document.querySelectorAll('.option-btn');
            const justText = document.getElementById('justification');
            
            if (selectedIndex === q.c) {
                btn.classList.add('correct');
                btn.style.borderColor = "#10b981";
                score++;
                document.getElementById('score').textContent = score;
                justText.innerHTML = `<strong class="text-green-600 block mb-2">‚úÖ EXPLICACI√ìN T√âCNICA:</strong> ${q.j}`;
            } else {
                btn.classList.add('incorrect');
                btn.style.borderColor = "#ef4444";
                if (opts[q.c]) {
                    opts[q.c].classList.add('correct');
                    opts[q.c].style.borderColor = "#10b981";
                }
                errors++;
                document.getElementById('errors').textContent = errors;
                justText.innerHTML = `<strong class="text-red-600 block mb-2">‚ùå FALLO T√âCNICO:</strong> ${q.j}`;
            }
            
            opts.forEach(b => b.disabled = true);
            document.getElementById('feedback').classList.remove('hidden');
        }

        function nextQuestion() {
            currentQuestionIndex++;
            loadQuestion();
        }

        function showResults() {
            document.getElementById('quiz-card').classList.add('hidden');
            document.getElementById('summary').classList.remove('hidden');
            document.getElementById('final-score').textContent = score;
            document.getElementById('final-errors').textContent = errors;
        }

        window.onload = startQuiz;
    </script>
</body>

</html>
