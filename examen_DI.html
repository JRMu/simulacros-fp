<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìö</text></svg>">
    <script data-goatcounter="https://jrenedo.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>

    <title>Cuestionario Maestro DI - Interactivo</title>
    <style>
        :root { 
            --blue: #1a73e8; 
            --blue-hover: #1557b0;
            --green: #1e8e3e; 
            --red: #d93025; 
            --gray: #5f6368; 
            --light-bg: #f8f9fa;
        }

        body { 
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; 
            background: var(--light-bg); 
            margin: 0; 
            padding: 20px; 
            color: #202124; 
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
        }

        .container { 
            width: 100%;
            max-width: 700px; 
            background: white; 
            padding: 30px; 
            border-radius: 12px; 
            box-shadow: 0 4px 20px rgba(0,0,0,0.08); 
            margin-top: 20px;
        }

        h1 { 
            font-size: 1.5rem;
            color: var(--blue); 
            text-align: center; 
            margin-top: 0;
            margin-bottom: 20px;
            border-bottom: 2px solid #eee;
            padding-bottom: 15px;
        }

        .stats { 
            display: flex; 
            justify-content: space-between; 
            background: #f1f3f4;
            padding: 12px 20px;
            border-radius: 8px;
            margin-bottom: 25px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .stat-item { display: flex; align-items: center; gap: 5px; }

        .question-card {
            animation: fadeIn 0.4s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .question-text { 
            font-size: 1.2rem; 
            font-weight: 600; 
            margin-bottom: 20px; 
            line-height: 1.4;
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option { 
            display: block; 
            width: 100%; 
            padding: 14px 18px; 
            text-align: left; 
            background: white; 
            border: 2px solid #dadce0; 
            border-radius: 8px; 
            cursor: pointer; 
            transition: all 0.2s; 
            font-size: 1rem;
            outline: none;
        }

        .option:hover:not(.disabled) { 
            background: #f8f9fa; 
            border-color: var(--blue);
        }

        .option.correct { 
            background: #e6f4ea; 
            border-color: var(--green); 
            color: var(--green); 
            font-weight: bold; 
        }

        .option.wrong { 
            background: #fce8e6; 
            border-color: var(--red); 
            color: var(--red); 
        }

        .option.disabled { 
            cursor: default;
        }

        .justification { 
            margin-top: 20px; 
            padding: 15px; 
            background: #e8f0fe; 
            border-left: 5px solid var(--blue); 
            font-size: 0.95rem; 
            line-height: 1.5;
            border-radius: 4px;
            display: none;
        }

        .actions {
            margin-top: 25px;
            display: flex;
            justify-content: flex-end;
        }

        .btn-next {
            background: var(--blue);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            display: none;
            transition: background 0.2s;
        }

        .btn-next:hover {
            background: var(--blue-hover);
        }

        .results-screen {
            text-align: center;
            padding: 20px;
        }

        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: var(--blue);
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin: 0 auto 20px;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .score-circle span { font-size: 0.8rem; font-weight: normal; }

        .btn-restart {
            background: #34a853;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container" id="app">
        <h1>Examen Desarrollo de Interfaces üñ•Ô∏è</h1>
        
        <div class="stats">
            <div class="stat-item">‚úÖ <span id="correctScore">0</span></div>
            <div class="stat-item">‚ùå <span id="wrongScore">0</span></div>
            <div class="stat-item">üìù <span id="currentCount">0</span>/<span id="totalCount">0</span></div>
        </div>

        <div id="quiz-root">
            <!-- El contenido se genera din√°micamente -->
        </div>

        <div class="actions">
            <button id="nextBtn" class="btn-next" onclick="nextQuestion()">Siguiente Pregunta ‚Üí</button>
        </div>
    </div>

    <script>
        const rawQuestions = [
            // PREGUNTAS ORIGINALES + NUEVAS DEL PDF
            { q: "El primer paso a la hora de dise√±ar un informe es:", o: ["Selecci√≥n de datos", "Modificaci√≥n de la cabecera", "Organizaci√≥n de los datos", "Dise√±ar el layout"], c: 0, j: "Antes de dise√±ar la apariencia, debes identificar qu√© representar y qu√© datos necesitas." },
            { q: "¬øQu√© evento de teclado se produce cuando solamente se pulsa una tecla?", o: ["keyPressed", "keyTyped", "keyReleased", "keyEntered"], c: 0, j: "keyPressed se dispara al presionar la tecla inicialmente." },
            { q: "Podemos definir la GUI como:", o: ["Conjunto de elementos gr√°ficos para comunicarse con el sistema", "Distribuci√≥n en pantalla", "Dise√±o f√≠sico del hardware", "Ninguna es correcta"], c: 0, j: "Es el medio visual de interacci√≥n entre usuario y m√°quina." },
            { q: "¬øQu√© representa una propiedad simple?", o: ["Un √∫nico valor", "Un √°mbito p√∫blico", "Un array de valores", "Un √°mbito privado"], c: 0, j: "Representa un valor at√≥mico √∫nico." },
            { q: "Herramientas para evaluar la usabilidad:", o: ["Todas son correctas", "Entrevistas", "Cuestionarios", "Test"], c: 0, j: "La evaluaci√≥n de usabilidad es multidisciplinar y usa diversas herramientas." },
            { q: "¬øQu√© evento se produce al pulsar y soltar la tecla?", o: ["keyTyped", "keyReleased", "keyPressed", "KeyDown"], c: 0, j: "keyTyped representa la acci√≥n completa de generar un car√°cter." },
            { q: "SVG est√° pensado para:", o: ["Figuras simples y complejas mediante ecuaciones", "Figuras simples", "Figuras complejas", "Ninguna"], c: 0, j: "Permite definir gr√°ficos escalables mediante expresiones matem√°ticas." },
            { q: "Secci√≥n del informe que introduce datos visibles solo en la primera p√°gina:", o: ["Cabecera", "Muestra los datos", "Res√∫menes", "Ninguna"], c: 0, j: "La cabecera de informe contextualiza el documento al inicio." },
            { q: "¬øQu√© elemento XAML permite seleccionar m√°s de una opci√≥n?", o: ["CheckBox", "Button", "RadioButton", "TextBox"], c: 0, j: "CheckBox permite m√∫ltiples selecciones independientes." },
            { q: "Beneficio de la usabilidad:", o: ["Reducci√≥n de costes de aprendizaje y esfuerzo", "Aumento de asistencia", "Optimizaci√≥n de c√≥digo", "Ninguna"], c: 0, j: "Una interfaz usable es m√°s intuitiva y f√°cil de aprender." },
            { q: "Regla de Nielsen 'Visibilidad del estado del sistema':", o: ["Informar al usuario de lo que ocurre en todo momento", "Salida de emergencia", "Uso de deshacer", "Lenguaje del usuario"], c: 0, j: "El sistema debe dar feedback constante sobre sus procesos." },
            { q: "Sobre los archivos de soluci√≥n (.sln), es INCORRECTO:", o: ["Pertenece a Eclipse", "Almacena configuraci√≥n", "Pertenecen a Visual Studio", "Agrupan proyectos"], c: 0, j: ".sln es el formato de soluciones de Microsoft Visual Studio, no de Eclipse." },
            { q: "Propiedad que identifica de forma √∫nica un elemento en XAML:", o: ["Name", "Content", "Text", "Style"], c: 0, j: "Name permite referenciar el control desde el c√≥digo." },
            { q: "Evento de rat√≥n cuando el puntero abandona una zona:", o: ["mouseExited", "mouseClicked", "mousePressed", "mouseReleased"], c: 0, j: "mouseExited detecta la salida del cursor del √°rea del componente." },
            { q: "En un informe, la secci√≥n del cuerpo:", o: ["Muestra los datos", "Solo primera p√°gina", "Muestra totales", "Ninguna"], c: 0, j: "El cuerpo es el √°rea donde se repiten y muestran los registros." },
            { q: "¬øQu√© m√©todo indica si un CheckBox est√° seleccionado?", o: ["IsChecked", "IsReleased", "IsEnabled", "IsClicked"], c: 0, j: "IsChecked devuelve el estado booleano del control." },
            { q: "¬øQu√© gu√≠a indica los aspectos m√°s importantes desarrollados previamente?", o: ["Gu√≠a r√°pida", "Manual r√°pido", "Gu√≠a de usuario", "Gu√≠a de administraci√≥n"], c: 0, j: "Es un resumen ejecutivo de la documentaci√≥n completa." },
            { q: "Pruebas para comprobar que se cumplen los requisitos especificados:", o: ["Pruebas funcionales", "Simulaci√≥n", "Aceptaci√≥n", "Recursos"], c: 0, j: "Verifican que el software realice las funciones solicitadas." },
            { q: "Las pruebas de caja blanca cubren:", o: ["Todas las opciones", "Sentencias", "Condiciones", "Caminos"], c: 0, j: "Analizan la l√≥gica y estructura interna del c√≥digo." },
            { q: "Definici√≥n de prueba BETA:", o: ["Realizada por usuarios finales en entorno no controlado", "Producto listo para implantar", "Entorno supervisado", "Funcional"], c: 0, j: "Se realiza con p√∫blico real fuera del laboratorio de desarrollo." },
            { q: "¬øQu√© es una prueba de seguridad?", o: ["Verificar mecanismos de protecci√≥n del sistema", "Simular comportamiento", "Analizar recursos", "Requisitos"], c: 0, j: "Busca vulnerabilidades y asegura la protecci√≥n de datos." },
            { q: "Ayuda al situar el rat√≥n sobre elementos:", o: ["Tooltips", "HeldDesk", "HelpTools", "Ayuda"], c: 0, j: "Peque√±as etiquetas flotantes informativas." },
            { q: "Analizar el sistema solo mediante entradas y salidas es:", o: ["Prueba de caja negra", "Caja blanca", "Estructural", "Caja oscura"], c: 0, j: "No se mira el c√≥digo, solo la respuesta del sistema." },
            { q: "Prueba que compara el resultado esperado con el obtenido en m√≥dulos aislados:", o: ["Prueba unitaria", "Regresi√≥n", "Sistema", "Integraci√≥n"], c: 0, j: "Verifica la correcci√≥n de la unidad m√≠nima de c√≥digo." },
            { q: "Prueba ALFA:", o: ["Entorno controlado por el desarrollador", "Verificar con usuarios", "Listo para cliente", "Carga"], c: 0, j: "Es una prueba interna previa a la beta." },
            { q: "¬øPara qu√© sirve NuGet?", o: ["Gestionar referencias y paquetes", "Ejecutar scripts", "Caracter√≠sticas", "Todas"], c: 0, j: "Es el gestor de dependencias de .NET." },
            { q: "Prueba de errores 404 (cantidad de enlaces rotos) es una m√©trica:", o: ["Directa", "Indirecta", "Porcentaje", "Ninguna"], c: 0, j: "Es una cuenta simple de elementos." },
            { q: "Porcentaje de enlaces rotos es una m√©trica:", o: ["Indirecta", "Directa", "Ambas", "Ninguna"], c: 0, j: "Requiere un c√°lculo basado en otras m√©tricas." },
            { q: "En pruebas de integraci√≥n se comprueba que:", o: ["Los m√≥dulos funcionan correctamente en conjunto", "M√≥dulos aislados", "Aceptaci√≥n", "Requisitos"], c: 0, j: "Verifica la interoperabilidad entre componentes." },
            { q: "Pruebas de regresi√≥n:", o: ["Los cambios no introducen nuevos errores", "Errores iniciales", "Seguridad", "Rendimiento"], c: 0, j: "Asegura que lo que funcionaba sigue funcionando." },
            { q: "Aplicaciones para generar informes:", o: ["JasperReports y Reporting Services", "JasperReports y Eclipse", "Visual Studio", "Eclipse"], c: 0, j: "Son los motores l√≠deres de reporting." },
            { q: "¬øQu√© es cualidad de ser recordado en usabilidad?", o: ["Tiempo en volver a usar tras un largo periodo", "Interactuar efectivo", "Agradable", "Errores"], c: 0, j: "Mide qu√© tan f√°cil es retomar el uso del dise√±o." },
            { q: "Para usar un listener se debe:", o: ["Implementar interfaz, registrarlo e implementar callbacks", "No detectar", "S√≠ncrono", "Ninguna"], c: 0, j: "Es el ciclo est√°ndar de manejo de eventos en Java." },
            { q: "¬øEn qu√© librer√≠a est√°n los escuchadores en java?", o: ["java.awt.event", "java.awt.class", "method", "listener"], c: 0, j: "Contiene todas las clases de eventos y listeners." },
            { q: "Secci√≥n de datos en un informe (layout) frecuente:", o: ["Formato tabular y estructura matriz", "Esquem√°tico", "√Årbol", "Tubular"], c: 0, j: "Son las formas m√°s comunes de presentar registros." },
            { q: "Si la RAM es cr√≠tica, usamos prueba de:", o: ["Uso de recursos", "Volumen", "Instalaci√≥n", "Recuperaci√≥n"], c: 0, j: "Analiza el consumo de hardware del sistema." },
            { q: "Forzar el fallo para comprobar la resiliencia es prueba de:", o: ["Recuperaci√≥n", "Configuraci√≥n", "Recursos", "Volumen"], c: 0, j: "Verifica c√≥mo vuelve el sistema tras un error." },
            { q: "Un componente es:", o: ["Objeto reutilizable para una funci√≥n espec√≠fica", "Objeto √∫nico", "Fragmento no integrable", "Sin relaci√≥n"], c: 0, j: "Su esencia es la modularidad y reutilizaci√≥n." },
            { q: "NuSpec proporciona:", o: ["Metadatos b√°sicos del paquete NuGet", "Configuraci√≥n cliente", "Licencias", "C√≥digo"], c: 0, j: "Define la identidad y dependencias del paquete." },
            { q: "JButton NO tiene el atributo:", o: ["IsChecked", "IsCancel", "Content", "IsEnabled"], c: 0, j: "JButton no es un control de estado marcado (Check)." },
            { q: "Prop√≥sito de gu√≠a de usuario:", o: ["Explicar todas las funcionalidades", "Arquitectura", "Solo algunas", "Ninguna"], c: 0, j: "Manual completo para la operativa final." },
            { q: "Objetivo de pruebas de integraci√≥n:", o: ["Interoperabilidad entre componentes", "Usabilidad", "Unidad individual", "Requisitos no funcionales"], c: 0, j: "Foco en la conexi√≥n entre piezas del software." },
            { q: "Eficacia en usabilidad:", o: ["Grado de √©xito del usuario en sus tareas", "Cu√°ntos errores comete", "Tiempo en volver", "Agradable"], c: 0, j: "Mide la precisi√≥n e integridad con que los usuarios alcanzan sus objetivos." },
            { q: "Secci√≥n de informe 'Descripci√≥n' en publicaci√≥n permite:", o: ["Nombre, idioma y carpeta men√∫ inicio", "Implementaci√≥n", "Manifiesto", "Asociaci√≥n"], c: 0, j: "Define los datos b√°sicos del archivo de salida." },
            { q: "Documentaci√≥n t√©cnica detalla:", o: ["Arquitectura, dise√±o y estructura interna", "Requisitos", "Interfaz", "Paso a paso"], c: 0, j: "Manual para otros desarrolladores o soporte t√©cnico." },
            { q: "Secciones de un informe:", o: ["Cabecera, cuerpo y pie", "Cabecera y pie", "Anexo", "T√≠tulo"], c: 0, j: "Estructura cl√°sica de un reporte de datos." },
            { q: "Prueba de aceptaci√≥n:", o: ["Usuarios finales validan requisitos", "Interoperabilidad", "Antes de entregar", "Unidad individual"], c: 0, j: "El cliente da el visto bueno final." },
            { q: "Manual de Instalaci√≥n detalla:", o: ["Detalles del SO y proceso de instalaci√≥n", "Resumen", "Extensi√≥n", "Pasos trabajo"], c: 0, j: "Gu√≠a para la puesta en marcha t√©cnica." },
            { q: "Orden versi√≥n software:", o: ["Major, minor, build, revisi√≥n", "Minor, major", "Build, revisi√≥n", "Major, build"], c: 0, j: "Est√°ndar de versionado de software." },
            { q: "Pruebas autom√°ticas:", o: ["Sin intervenci√≥n directa, mediante scripts", "Usuario protagonista", "No existen", "Ninguna"], c: 0, j: "Ejecuci√≥n programada de tests." },
            { q: "HelpNDoc permite generar ayuda en:", o: [".chm, .pdf o .html", "Elevada comprensi√≥n", "SandCastle", ".mp4"], c: 0, j: "Es una herramienta de autor√≠a de ayuda multiformato." },
            { q: "Empaquetar en Java resulta en archivo:", o: [".jar", ".exe", ".ddl", ".java"], c: 0, j: "Java ARchive para distribuci√≥n de aplicaciones." },
            { q: "Control de versiones sirve para:", o: ["Controlar y rastrear cambios en el c√≥digo", "Aumentar complejidad", "Limitar acceso", "No cambios"], c: 0, j: "Hist√≥rico y gesti√≥n colaborativa de c√≥digo." },
            { q: "Paquetes gestionados INCORRECTO:", o: ["No son compatibles con otras versiones", "Protegen propiedad", "Actualizaciones", "Divisiones"], c: 0, j: "Los paquetes deben manejar compatibilidad." },
            { q: "XAML pr√°ctica NO correcta:", o: ["Utilizar Canvas de forma masiva", "Evitar fijos", "No fijos", "StackPanel"], c: 0, j: "Canvas dificulta el dise√±o adaptativo." },
            { q: "Secci√≥n de informe en primera p√°gina:", o: ["Cabecera", "Pie", "Cuerpo", "Anexo"], c: 0, j: "El Report Header solo aparece al principio." },
            { q: "Archivo para agrupar proyectos en Visual Studio:", o: [".sln", ".exe", ".csproj", ".dll"], c: 0, j: "Archivo de Soluci√≥n que organiza el espacio de trabajo." },
            { q: "¬øEn qu√© fase se realizan pruebas de aceptaci√≥n?", o: ["Antes de la entrega final", "Programaci√≥n", "Unitarias", "Dise√±o"], c: 0, j: "Es el paso previo al cierre del proyecto." },
            { q: "Pruebas del sistema comprueban:", o: ["Configuraci√≥n y recuperaci√≥n del sistema", "Clases", "Interfaz", "C√≥digo"], c: 0, j: "Valida el software como un todo integrado." },
            { q: "¬øCu√°ndo se realizan las pruebas de sistema?", o: ["Tras integrar todos los componentes", "Antes integraci√≥n", "Dise√±o", "Despu√©s aceptaci√≥n"], c: 0, j: "Se ejecutan sobre el producto terminado." },
            { q: "Objetivo pruebas de recursos:", o: ["Comportamiento respecto a recursos", "Requisitos", "L√≥gicos", "Aislados"], c: 0, j: "Mide eficiencia en uso de CPU y memoria." },

            // NUEVAS PREGUNTAS EXTRA√çDAS DEL PDF
            { q: "¬øCu√°l de las siguientes opciones tiene un componente?", o: ["Todas las opciones", "Una propiedad", "Un atributo", "Un evento"], c: 0, j: "Los componentes agrupan propiedades, atributos y eventos para su funcionamiento." },
            { q: "Un escuchador de eventos es un mecanismo:", o: ["As√≠ncrono", "S√≠ncrono", "Diferencial", "Interno"], c: 0, j: "Los eventos ocurren en cualquier momento y el sistema los gestiona asincr√≥nicamente." },
            { q: "Indique cu√°les son aspectos de la pauta de estructura para el dise√±o:", o: ["Jerarqu√≠a, foco, homogeneidad y relaciones", "Jerarqu√≠a, peso y distinci√≥n", "Jerarqu√≠a y heterogeneidad", "Foco y distinci√≥n"], c: 0, j: "Son los pilares para organizar visualmente una interfaz funcional." },
            { q: "¬øCu√°l de las siguientes opciones no es propia de un CheckBox?", o: ["Stretch", "IsChecked", "Hover", "Release"], c: 0, j: "Stretch es una propiedad de estiramiento (layout/im√°genes), no un estado l√≥gico de CheckBox." },
            { q: "NetBeans es c√≥digo abierto, lo que significa:", o: ["Producto libre, gratuito con c√≥digo disponible", "Solo c√≥digo disponible para descarga", "Producto gratuito pero cerrado", "Solo para expertos"], c: 0, j: "El c√≥digo abierto implica acceso al fuente y libertad de distribuci√≥n." },
            { q: "XAML es fundamentalmente un:", o: ["Lenguaje", "IDE", "Elemento gr√°fico", "Tecnolog√≠a de base de datos"], c: 0, j: "XAML es un lenguaje declarativo basado en XML para definir interfaces." },
            { q: "Un cuadro de di√°logo permite:", o: ["Interactuar con la ventana principal", "Definir hardware", "Cerrar el sistema", "Solo mostrar errores"], c: 0, j: "Son ventanas secundarias para entrada de datos o confirmaciones." },
            { q: "SVG elementos principales son:", o: ["Contenedores, gr√°ficos y animaci√≥n", "Audio y fijos", "Moleculares", "Definitivos"], c: 0, j: "SVG permite agrupar objetos, dibujar formas y aplicar movimiento." },
            { q: "¬øQu√© es facilidad de aprendizaje en usabilidad?", o: ["Usuarios nuevos pueden interactuar de forma efectiva", "Interactuar tras un largo periodo", "Cu√°ntos errores comete", "Sencillez visual"], c: 0, j: "Mide el esfuerzo requerido para que un novato use el sistema." },
            { q: "Las pruebas que comprueban tiempos de respuesta son:", o: ["Pruebas de rendimiento", "Pruebas de integraci√≥n", "Pruebas de sistema", "Ninguna"], c: 0, j: "El rendimiento eval√∫a velocidad, capacidad y estabilidad." },
            { q: "El lenguaje MXML es un lenguaje usado en:", o: ["Aplicaciones Adobe Flex", "Compilar archivos .fla", "Estructura DataGrid √∫nicamente", "Ninguna"], c: 0, j: "MXML es el lenguaje de marcado para la plataforma Flex." },
            { q: "Respecto al lenguaje XUL, es correcto:", o: ["Usa el motor renderizado Gecko (Mozilla)", "Est√° basado en Python", "Desarrollado por IBM", "Es para m√≥viles Android"], c: 0, j: "XUL fue creado por Mozilla para interfaces multiplataforma." },
            { q: "¬øPara qu√© sirve la firma de componentes?", o: ["Verifica origen y garantiza autenticidad", "Verifica solo documentaci√≥n", "Certifica licencias", "Actualiza parches"], c: 0, j: "Garantiza que el software no ha sido alterado y proviene de un autor conocido." },
            { q: "¬øPara qu√© sirve la herramienta GhostDoc?", o: ["Generar documentaci√≥n XML autom√°tica en VS", "Detectar errores de c√≥digo", "Omitir comentarios", "Generar diagramas UML"], c: 0, j: "Es una extensi√≥n de Visual Studio para automatizar comentarios de documentaci√≥n." },
            { q: "¬øQu√© es eficacia en usabilidad?", o: ["Grado de √©xito en las tareas", "Tiempos de respuesta", "Agradable visualmente", "Errores por minuto"], c: 0, j: "La eficacia mide si el usuario consigue completar su objetivo." },
            { q: "¬øPor qu√© elementos est√°n compuestas las clases?", o: ["Todas (Propiedades, M√©todos, Campos)", "Solo propiedades", "Solo m√©todos", "Solo constructores"], c: 0, j: "Una clase agrupa datos (campos/propiedades) y l√≥gica (m√©todos)." },
            { q: "¬øCu√°l es el constructor de la clase Alumno?", o: ["public Alumno()", "public class Alumno", "public String getNombre()", "public void setEdad()"], c: 0, j: "El constructor tiene el mismo nombre que la clase y no tiene tipo de retorno." },
            { q: "A la manera de unir distintos componentes se le denomina:", o: ["Desarrollo basado en componentes", "Programaci√≥n lineal", "Dise√±o monol√≠tico", "Ninguna"], c: 0, j: "Fomenta la reutilizaci√≥n y modularidad del software." }
        ];

        let questions = [];
        let currentIdx = 0;
        let score = { correct: 0, wrong: 0 };
        let answered = false;

        const root = document.getElementById('quiz-root');
        const nextBtn = document.getElementById('nextBtn');
        const totalSpan = document.getElementById('totalCount');

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function initQuiz() {
            // Barajar preguntas y opciones
            questions = shuffle([...rawQuestions]).map(q => {
                const options = [...q.o];
                const correctText = options[q.c];
                shuffle(options);
                return {
                    q: q.q,
                    o: options,
                    c: options.indexOf(correctText),
                    j: q.j
                };
            });

            currentIdx = 0;
            score = { correct: 0, wrong: 0 };
            totalSpan.innerText = questions.length;
            updateStats();
            renderQuestion();
        }

        function updateStats() {
            document.getElementById('correctScore').innerText = score.correct;
            document.getElementById('wrongScore').innerText = score.wrong;
            document.getElementById('currentCount').innerText = currentIdx + 1;
        }

        function renderQuestion() {
            answered = false;
            nextBtn.style.display = 'none';
            const q = questions[currentIdx];
            
            root.innerHTML = `
                <div class="question-card">
                    <div class="question-text">${q.q}</div>
                    <div class="options-container" id="options">
                        ${q.o.map((opt, i) => `
                            <button class="option" onclick="checkAnswer(${i}, this)">
                                ${opt}
                            </button>
                        `).join('')}
                    </div>
                    <div class="justification" id="justification">
                        <strong>üí° Explicaci√≥n:</strong> ${q.j}
                    </div>
                </div>
            `;
            updateStats();
        }

        function checkAnswer(selectedIdx, btn) {
            if (answered) return;
            answered = true;

            const q = questions[currentIdx];
            const options = document.querySelectorAll('.option');
            const just = document.getElementById('justification');

            options.forEach((opt, i) => {
                opt.classList.add('disabled');
                if (i === q.c) {
                    opt.classList.add('correct');
                }
            });

            if (selectedIdx === q.c) {
                score.correct++;
            } else {
                btn.classList.add('wrong');
                score.wrong++;
            }

            updateStats();
            just.style.display = 'block';
            nextBtn.style.display = 'block';
            
            if (currentIdx === questions.length - 1) {
                nextBtn.innerText = "Ver Resultados Finales";
            }
        }

        function nextQuestion() {
            if (currentIdx < questions.length - 1) {
                currentIdx++;
                renderQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            const percent = Math.round((score.correct / questions.length) * 100);
            document.querySelector('.stats').style.display = 'none';
            nextBtn.style.display = 'none';
            
            root.innerHTML = `
                <div class="results-screen">
                    <h2>¬°Cuestionario Finalizado!</h2>
                    <div class="score-circle">
                        ${percent}%
                        <span>Aciertos</span>
                    </div>
                    <p>Has respondido correctamente <strong>${score.correct}</strong> de <strong>${questions.length}</strong> preguntas.</p>
                    <p>Fallos registrados: ${score.wrong}</p>
                    <button class="btn-restart" onclick="location.reload()">Reiniciar Cuestionario</button>
                </div>
            `;
        }

        window.onload = initQuiz;
    </script>
</body>
</html>

